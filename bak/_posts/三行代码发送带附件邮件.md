title: 三行代码发送带附件邮件
date: 2018-09-27 15:00:02
tags: [python]
categories: [开发]
---
#### demo
```
pip install yagmail
import yagmail
```

<!--more-->


```
def emailWithFile(bodyText,sendFileName):
    # qq邮箱的邮件发送需要获取SMTP密码，使用qq密码是不行的
    yag = yagmail.SMTP(user='565506019@qq.com', password='passwd', host='smtp.qq.com', port='465')
    body = u""+bodyText
    yag.send(to='565506019@qq.com', subject="环球财经-"+bodyText, contents=[body, sendFileName])
```
#### 运行结果
```
emailWithFile("180621","····/yangshicaijing180621.aac")
```
![](https://upload-images.jianshu.io/upload_images/2572206-eb2c2477e37849e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**参考文章**
> https://www.jianshu.com/p/3d1f6cc65630?from=singlemessage