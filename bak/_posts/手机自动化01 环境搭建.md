title: 手机自动化01 环境搭建
date: 2018-09-28 18:36:40
tags: [appium,python,手机自动化,自动化测试]
categories: [测试]
---
#### 雷电模拟器安装

- 自行下载安装
```
http://www.ldmnq.com/
```
- 安装后启动起来

#### jdk安装
- 下载安装
`https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html`

- 根据对应目录配置好环境变量
![](https://upload-images.jianshu.io/upload_images/2572206-1840c60f347927c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- cmd下输入`java -version`查看是否配置成功
![](https://upload-images.jianshu.io/upload_images/2572206-e479355efb2d217d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


#### 安装Android SDK
- 下载最新版本的zip
![](https://upload-images.jianshu.io/upload_images/2572206-4d198e9aafecd480.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 解压到任意文件夹，并将文件夹添加到环境变量，变量名:`ANDROID_HOME`
![](https://upload-images.jianshu.io/upload_images/2572206-db12c72f14ad46ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 打开SDK Manager.exe

- 选择Tools下的`Android SDK Tools,Android SDK Platform-tools,Android SDK Build-tools`

![](https://upload-images.jianshu.io/upload_images/2572206-51c23e4dfbfb9f93.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 任选一个大于Android 5.0.1的安卓镜像
![](https://upload-images.jianshu.io/upload_images/2572206-840ec34877403b79.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 选择Extras下的所有文件
![](https://upload-images.jianshu.io/upload_images/2572206-39017ad0fa3dfd65.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 安装
![](https://upload-images.jianshu.io/upload_images/2572206-918e24e9d66b2bb5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 后面的步骤会比较慢，而且需要翻墙才能够进行。翻墙参考`https://gengzongyuan.github.io/2018/09/28/%E8%87%AA%E5%BB%BA%E6%A2%AF%E5%AD%90/`

- 添加环境变量到path
```
%ANDROID_HOME%;%ANDROID_HOME%\tools;%ANDROID_HOME%\platform-tools;%ANDROID_HOME%\build-tools
```

- 在cmd中执行`adb devices`，能找到UDID确保成功
![](https://upload-images.jianshu.io/upload_images/2572206-337feb697a75fbaa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


#### node.js安装
- 官网下载地址:`https://nodejs.org/en/download/`
- 根据操作系统下载最新版本即可
![image.png](https://upload-images.jianshu.io/upload_images/2572206-29627d87566f46a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 一路下一步进行安装
- cmd执行npm查看结果
![](https://upload-images.jianshu.io/upload_images/2572206-a8c3f52e607bf536.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 安装cnpm
```
npm install -g cnpm --registry=[https://registry.npm.taobao.org](https://registry.npm.taobao.org/)
```

#### 安装appium server

- 安装appium server
```
cnpm install -g appium --no-cache
```

#### 安装appium客户端，用于抓取app上定位信息
```
https://github.com/appium/appium-desktop/releases/tag/v1.2.1
```
![](https://upload-images.jianshu.io/upload_images/2572206-c9c0627303ee57cb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 到此appium的环境就安装成功了

#### 参考
http://www.imdsx.cn/index.php/2017/09/14/winappiumandroid/